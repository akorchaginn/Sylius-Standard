imports:
    - { resource: "@SyliusCoreBundle/Resources/config/app/config.yml" }
    - { resource: "@SyliusAdminBundle/Resources/config/app/config.yml" }
    - { resource: "@SyliusShopBundle/Resources/config/app/config.yml" }
    - { resource: "@SyliusAdminApiBundle/Resources/config/app/config.yml" }
    - { resource: "@CatalogPromotionPlugin/Resources/config/app/grid.yml" }
    - { resource: "@SitemapPlugin/Resources/config/config.yml" }
    - { resource: "@ShopApiPlugin/Resources/config/app/config.yml" }
    
    
    - { resource: "parameters.yml" }
    - { resource: "security.yml" }
    - { resource: "emails.yml" }
    - { resource: "state_machine.yml" }
    - { resource: "resources.yml" }
    - { resource: "grids/grids.yml" }    
    - { resource: "grids/product.yml" }
    - { resource: "liip_config.yml" }    

parameters:
    locale: ru_RU

twig:
    globals: 
        version: "%assets_version%"
 

sylius_product:
    resources:
        product:
            classes:
                repository: AppBundle\Repository\ProductRepositoryExt

sylius_order:
    resources:
        order:
            classes:
                controller: AppBundle\Controller\OrderRestoreController

sylius_shop:
    checkout_resolver:
        pattern: "%sylius.security.shop_regex%/checkout/.+"

framework:
    translator: { fallbacks: ["%locale%"] }
    secret: "%secret%"
    router:
        resource: "%kernel.root_dir%/config/routing.yml"
        strict_requirements: "%kernel.debug%"
    form: true
    csrf_protection: true
    validation: { enable_annotations: true }
    templating: { engines: ["twig"] }
    default_locale: "%locale%"
    trusted_proxies: ~
    session:
        handler_id: ~

doctrine:
    dbal:
        driver: "%database_driver%"
        host: "%database_host%"
        port: "%database_port%"
        dbname: "%database_name%"
        user: "%database_user%"
        password: "%database_password%"
        server_version: "5.5"
        charset: UTF8
        mapping_types:
            json: json_array

doctrine_migrations:
    dir_name: "%kernel.root_dir%/migrations"
    namespace: Sylius\Migrations
    table_name: sylius_migrations
    name: Sylius Migrations

swiftmailer:
    transport: "%mailer_transport%"
    host: "%mailer_host%"
    username: "%mailer_user%"
    password: "%mailer_password%"
    
sylius_mailer:
    sender:
        name: Marinewool.ru
        address: no-reply@marinewool.ru

fos_rest:
    exception: ~
    view:
        formats:
            json: true
            xml:  true
        empty_content: 204
    format_listener:
        rules:
            - { path: '^/shop-api', priorities: ['json'], fallback_format: json, prefer_extension: true }
            - { path: '^/api', priorities: ['json', 'xml'], fallback_format: json, prefer_extension: true }
            - { path: '^/', stop: true }
            
stfalcon_tinymce:
    include_jquery: true
    tinymce_jquery: true
    selector: ""
    language: "ru"
    theme:
        simple:
            plugins:
                - "advlist autolink lists link charmap preview hr anchor pagebreak"
                - "visualblocks visualchars code fullscreen"
                - "nonbreaking table contextmenu directionality"
                - "paste textcolor"
            toolbar1: "insertfile undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link"
            toolbar2: "preview | forecolor backcolor"
            
ongr_elasticsearch:
    managers:
        default:
            index:
                index_name: sylius
            mappings:
                CatalogPromotionPlugin:
                    document_dir: ElasticSearch\Document

ongr_filter_manager:
    managers:
        search_list: #
            repository: es.manager.default.product

sitemap:
    providers:
        products: true
        taxons: true
        static: true
#    template:             '@SitemapPlugin/show.xml.twig'
#    index_template:       '@SitemapPlugin/index.xml.twig'
#    exclude_taxon_root:   true
#    absolute_url:         true
#    hreflang:             true
    static_routes:
        - { route: sylius_shop_contact_request, parameters: [], locales: [] }
        - { route: sylius_shop_news_index, parameters: [], locales: [] }

lexik_maintenance:
    authorized:
        path: /admin                                                         # Optional. Authorized path, accepts regexs
    driver:
        class: '\Lexik\Bundle\MaintenanceBundle\Drivers\FileDriver'                # class for file driver
        options: {file_path: %kernel.cache_dir%/lock}                         # file_path is the complete path for create the file
    response:
        code: 503
        status: "Service Temporarily Unavailable"