services:
    app.listener.admin.menu_builder:
        class: AppBundle\Menu\AdminMenuListener
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addAdminMenuItems }
    app.listener.admin.order.show.menu_builder:
        class: AppBundle\Menu\AdminOrderShowMenuListener
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.order.show, method: addAdminOrderShowMenuItems }
    app.updater_version:
        class: AppBundle\Utils\UpdaterAssetsVersion
    app.sitemap_provider.static_content:
        class: AppBundle\Provider\StaticContentUrlProvider
        tags:
            - { name: sylius.sitemap_provider }
        arguments:
            - '@app.repository.static_content'
            - '@router'
            - '@sylius.sitemap_url_factory'
            - '@sylius.locale_provider'
    app.grid.filter.states:
            class: AppBundle\Grid\Filter\StateMachineFilter
            tags:
                -
                    name: sylius.grid_filter
                    type: states
                    form_type: AppBundle\Form\Type\Filter\StateMachineFilterType
    sylius.order_processing.order_original_prive_fill:
        class: AppBundle\OrderProcessing\OrderOriginalPriceAggregator
        tags:
            - { name: sylius.order_processor }

    marinewool.min_price_variant_resolver:
        class: AppBundle\Resolver\MinPriceProductVarantResolver

    marinewool.templating.helper.min_price_resolver:
        class: AppBundle\Helper\MinPriceVariantResolverHelper
        arguments:
            - '@marinewool.min_price_variant_resolver'
        tags:
            - {name: templating.helper}

    marinewool.twig.extension.min_price_variant_resolver:
        class: AppBundle\Twig\MinPriceVariantExtension
        arguments:
            - '@marinewool.templating.helper.min_price_resolver'
        tags:
            - {name: twig.extension}